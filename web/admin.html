<!DOCTYPE html>
<html lang="en" class="h-full scroll-smooth">

<head>
	<meta charset="UTF-8" />
	<title>Admin Dashboard - 512lang</title>
	<meta name="viewport" content="width=device-width,initial-scale=1" />
	<link rel="preconnect" href="https://fonts.googleapis.com">
	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link
		href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;500;700&family=Inter:wght@400;500;600;700;800&display=swap"
		rel="stylesheet">
	<script src="https://cdn.tailwindcss.com?plugins=typography"></script>
	<link rel="stylesheet" href="/site.css" />
</head>

<body class="min-h-full bg-slate-950 text-slate-100 antialiased selection:bg-fuchsia-600/40 selection:text-fuchsia-100">
	<div class="hero-bg min-h-screen py-8">
		<div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
			<!-- Header -->
			<div class="text-center mb-12">
				<h1 class="text-4xl md:text-5xl font-extrabold grad-text mb-4">Admin Dashboard</h1>
				<p class="text-xl text-slate-300 mb-2">System monitoring and analytics</p>
				<div class="flex items-center justify-center gap-2 text-sm text-slate-400">
					<div class="w-2 h-2 bg-green-500 rounded-full animate-pulse"></div>
					<span id="refreshStatus">Initializing auto-refresh...</span>
				</div>
			</div>

			<!-- View Toggle -->
			<div class="flex justify-center gap-4 mb-10">
				<button id="btnStatus"
					class="px-5 py-2 rounded-lg text-sm font-semibold bg-fuchsia-600 text-white shadow shadow-fuchsia-600/30 focus:outline-none focus:ring-2 focus:ring-fuchsia-500 transition-all">Status</button>
				<button id="btnLogs"
					class="px-5 py-2 rounded-lg text-sm font-semibold bg-slate-800 text-slate-200 border border-slate-700 hover:bg-slate-700/70 focus:outline-none focus:ring-2 focus:ring-fuchsia-500 transition-all">Logs</button>
			</div>

			<!-- Views -->
			<div id="view-status" class="space-y-10">
				<div class="grid gap-8 md:grid-cols-3">
					<!-- Stat Cards -->
					<div class="bg-slate-900/70 border border-slate-800/60 rounded-lg p-5 flex flex-col gap-2">
						<h4 class="text-sm uppercase tracking-wide text-slate-400">Last Update</h4>
						<div id="statTimestamp" class="font-mono text-fuchsia-300 text-xs break-all">--</div>
					</div>
					<div class="bg-slate-900/70 border border-slate-800/60 rounded-lg p-5 flex flex-col gap-2">
						<h4 class="text-sm uppercase tracking-wide text-slate-400">Containers</h4>
						<div class="text-3xl font-bold text-fuchsia-400" id="statContainerCount">0</div>
					</div>
					<div class="bg-slate-900/70 border border-slate-800/60 rounded-lg p-5 flex flex-col gap-2">
						<h4 class="text-sm uppercase tracking-wide text-slate-400">History Loaded</h4>
						<div class="text-3xl font-bold text-fuchsia-400" id="historyCount">0</div>
					</div>
				</div>

				<!-- Container List -->
				<div class="glow">
					<div class="bg-slate-900/80 border border-slate-800/60 rounded-lg overflow-hidden">
						<div
							class="px-6 py-4 bg-slate-800/60 border-b border-slate-700/60 flex items-center justify-between">
							<h3 class="text-lg font-semibold flex items-center gap-2 text-slate-200">
								<svg class="w-5 h-5 text-fuchsia-500" fill="none" stroke="currentColor"
									viewBox="0 0 24 24">
									<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
										d="M3 7h18M3 12h18M3 17h18" />
								</svg>
								Active / Recent Containers
							</h3>
							<button onclick="loadStats()"
								class="px-3 py-1.5 text-sm bg-fuchsia-600/20 hover:bg-fuchsia-600/30 text-fuchsia-300 border border-fuchsia-600/30 hover:border-fuchsia-500/50 rounded-lg transition-all">Refresh</button>
						</div>
						<div class="p-0 overflow-x-auto">
							<table class="min-w-full text-sm text-left font-mono" id="containersTable">
								<thead class="bg-slate-800/60 text-slate-300 text-xs uppercase">
									<tr>
										<th class="px-4 py-2">ID</th>
										<th class="px-4 py-2">Timestamp</th>
										<th class="px-4 py-2">Status</th>
										<th class="px-4 py-2">Runtime</th>
									</tr>
								</thead>
								<tbody id="containersBody" class="divide-y divide-slate-800">
									<tr>
										<td colspan="4" class="px-4 py-4 text-slate-500 text-center">Loading...</td>
									</tr>
								</tbody>
							</table>
						</div>
					</div>
				</div>

				<!-- History -->
				<div class="glow">
					<div class="bg-slate-900/80 border border-slate-800/60 rounded-lg overflow-hidden">
						<div
							class="px-6 py-4 bg-slate-800/60 border-b border-slate-700/60 flex items-center justify-between flex-wrap gap-4">
							<h3 class="text-lg font-semibold text-slate-200 flex items-center gap-2">
								<svg class="w-5 h-5 text-fuchsia-500" fill="none" stroke="currentColor"
									viewBox="0 0 24 24">
									<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
										d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z" />
								</svg>
								Request History
							</h3>
							<div class="flex items-center gap-3">
								<label class="flex items-center gap-2 text-sm text-slate-300">Limit:
									<input type="number" id="limit" value="25" min="1" max="500"
										class="w-24 px-2 py-1 text-sm bg-slate-800/70 border border-slate-700/70 rounded-md focus:outline-none focus:ring-1 focus:ring-fuchsia-600 text-slate-100" />
								</label>
								<button onclick="loadHistory()"
									class="px-3 py-1.5 text-sm bg-fuchsia-600/20 hover:bg-fuchsia-600/30 text-fuchsia-300 border border-fuchsia-600/30 hover:border-fuchsia-500/50 rounded-lg transition-all">Refresh</button>
							</div>
						</div>
						<div class="p-0 overflow-x-auto">
							<table class="min-w-full text-xs text-left font-mono" id="historyTable">
								<thead class="bg-slate-800/60 text-slate-300 uppercase">
									<tr>
										<th class="px-4 py-2">Container</th>
										<th class="px-4 py-2">Created</th>
										<th class="px-4 py-2">Finished</th>
										<th class="px-4 py-2">Duration(ms)</th>
										<th class="px-4 py-2">Error</th>
									</tr>
								</thead>
								<tbody id="historyBody" class="divide-y divide-slate-800">
									<tr>
										<td colspan="5" class="px-4 py-4 text-slate-500 text-center">Loading...</td>
									</tr>
								</tbody>
							</table>
						</div>
					</div>
				</div>
			</div>

			<div id="view-logs" class="hidden space-y-8">
				<div class="glow">
					<div class="bg-slate-900/80 border border-slate-800/60 rounded-lg overflow-hidden">
						<div
							class="px-6 py-4 bg-slate-800/60 border-b border-slate-700/60 flex items-center justify-between flex-wrap gap-4">
							<h3 class="text-lg font-semibold text-slate-200 flex items-center gap-2">
								<svg class="w-5 h-5 text-fuchsia-500" fill="none" stroke="currentColor"
									viewBox="0 0 24 24">
									<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
										d="M9 17v-2m3 2v-4m3 4V9m-6 6V9m3 4V9m3 8a2 2 0 01-2 2H8a2 2 0 01-2-2V7a2 2 0 012-2h8a2 2 0 012 2v10z" />
								</svg>
								Logs
							</h3>
							<div class="flex items-center gap-3 flex-wrap">
								<label class="flex items-center gap-2 text-sm text-slate-300">Level:
									<select id="logLevel"
										class="px-2 py-1 text-sm bg-slate-800/70 border border-slate-700/70 rounded-md focus:outline-none focus:ring-1 focus:ring-fuchsia-600 text-slate-100">
										<option value="">All</option>
										<option value="info">Info</option>
										<option value="warn">Warning</option>
										<option value="error">Error</option>
									</select>
								</label>
								<label class="flex items-center gap-2 text-sm text-slate-300">Limit:
									<input type="number" id="logsLimit" value="100" min="1" max="1000"
										class="w-28 px-2 py-1 text-sm bg-slate-800/70 border border-slate-700/70 rounded-md focus:outline-none focus:ring-1 focus:ring-fuchsia-600 text-slate-100" />
								</label>
								<button onclick="loadLogs()"
									class="px-3 py-1.5 text-sm bg-fuchsia-600/20 hover:bg-fuchsia-600/30 text-fuchsia-300 border border-fuchsia-600/30 hover:border-fuchsia-500/50 rounded-lg transition-all">Refresh</button>
							</div>
						</div>
						<div class="p-0 overflow-x-auto">
							<table class="min-w-full text-xs font-mono" id="logsTable">
								<thead class="bg-slate-800/60 text-slate-300 uppercase">
									<tr>
										<th class="px-4 py-2 text-left">Time</th>
										<th class="px-4 py-2 text-left">Level</th>
										<th class="px-4 py-2 text-left">Message</th>
										<th class="px-4 py-2 text-left">Caller</th>
									</tr>
								</thead>
								<tbody id="logsBody" class="divide-y divide-slate-800">
									<tr>
										<td colspan="4" class="px-4 py-4 text-slate-500 text-center">Loading...</td>
									</tr>
								</tbody>
							</table>
						</div>
					</div>
				</div>
				<div class="text-xs text-slate-500 font-mono" id="logsMeta"></div>
			</div>

			<!-- Log Detail Modal -->
			<div id="logModal"
				class="fixed inset-0 bg-black/50 backdrop-blur-sm z-50 hidden flex items-center justify-center p-4">
				<div
					class="bg-slate-900 border border-slate-700 rounded-lg max-w-4xl w-full max-h-[90vh] overflow-hidden flex flex-col">
					<div class="px-6 py-4 border-b border-slate-700 flex items-center justify-between">
						<h3 class="text-lg font-semibold text-slate-200">Log Details</h3>
						<button onclick="closeLogModal()" class="text-slate-400 hover:text-slate-200 transition-colors">
							<svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
								<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
									d="M6 18L18 6M6 6l12 12"></path>
							</svg>
						</button>
					</div>
					<div class="p-6 overflow-y-auto flex-1">
						<div id="logDetails"
							class="bg-slate-950/60 text-slate-300 p-4 rounded-lg text-sm font-mono whitespace-pre-wrap overflow-x-auto space-y-3">
						</div>
					</div>
				</div>
			</div>

			<!-- Container Detail Modal -->
			<div id="containerModal"
				class="fixed inset-0 bg-black/50 backdrop-blur-sm z-50 hidden flex items-center justify-center p-4">
				<div
					class="bg-slate-900 border border-slate-700 rounded-lg max-w-6xl w-full max-h-[90vh] overflow-hidden flex flex-col">
					<div class="px-6 py-4 border-b border-slate-700 flex items-center justify-between">
						<h3 class="text-lg font-semibold text-slate-200">Container Details</h3>
						<button onclick="closeContainerModal()"
							class="text-slate-400 hover:text-slate-200 transition-colors">
							<svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
								<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
									d="M6 18L18 6M6 6l12 12"></path>
							</svg>
						</button>
					</div>
					<div class="p-6 overflow-y-auto flex-1">
						<div id="containerDetails"
							class="bg-slate-950/60 text-slate-300 p-4 rounded-lg text-sm font-mono whitespace-pre-wrap overflow-x-auto space-y-3">
						</div>
					</div>
				</div>
			</div>

			<!-- Status Footer -->
			<div class="mt-12 text-center">
				<div class="inline-flex items-center gap-2 px-4 py-2 bg-slate-900/60 border border-slate-800/60 
							rounded-full text-sm text-slate-400">
					<svg class="w-4 h-4 text-green-500" fill="currentColor" viewBox="0 0 20 20">
						<path fill-rule="evenodd"
							d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z"
							clip-rule="evenodd" />
					</svg>
					Admin session active
				</div>
			</div>
		</div>
	</div>
	<script src="/admin.js"></script>
</body>

</html>